apiVersion: v1
kind: PersistentVolume
metadata:
  name: manual-pv2
spec:
  accessModes:
  - ReadWriteMany
  capacity:
    storage: 4Gi
  csi:
    controllerExpandSecretRef:
      name: csi-cephfs-secret
      namespace: ceph-csi
    driver: cephfs.csi.ceph.com
    nodeStageSecretRef:
      name: csi-cephfs-secret
      namespace: ceph-csi
    volumeAttributes:
      # Also update clusterID if different
      clusterID: b97c65ba-9614-47f9-bdc3-0daa7164dca3 
      fsName: ceph-filesystem
      mounter: kernel
      # Update <actual_path_here> with the correct subvolume path
      rootPath: /volumes/csi/test-subvolume/<actual_path_here>
      staticVolume: "true"
    volumeHandle: manual-pv2
  persistentVolumeReclaimPolicy: Delete
  storageClassName: csi-cephfs-sc-kernel
  volumeMode: Filesystem
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: manual-pv2
  namespace: nv-apps
spec:
  storageClassName: csi-cephfs-sc-kernel
  volumeName: manual-pv2
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 4Gi
